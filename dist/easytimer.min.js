var module,Timer=function(a){"use strict";function b(){return"undefined"!=typeof document}function c(){return y}function d(a,b){return(a%b+b)%b}function e(a,b,c){var d,e="";for(d=0;b>d;d+=1)e+=String(c);return(e+a).slice(-e.length)}function f(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(a,b,c){a=a||["hours","minutes","seconds"],b=b||":",c=c||2;var d,f,g=[],h="";for(f=0;c>f;f+=1)h+="0";for(f=0;f<a.length;f+=1)void 0!==this[a[f]]&&g.push(e(this[a[f]],c,"0"));return d=g.join(b)}}function g(){function a(a,b){var c=Math.floor(b);la[a]=c,ka[a]=a!==v?d(c,x[a]):c}function e(a){return C(a,v)}function g(a){return C(a,u)}function z(a){return C(a,t)}function A(a){return C(a,s)}function B(a){return C(a,r)}function C(b,c){var d=la[c];return a(c,b/w[c]),la[c]!==d}function D(){E(),M()}function E(){clearInterval(ba),ba=void 0,na=!1,oa=!1}function F(a){Z()||N(a),G()}function G(){if(Y())throw new Error("Timer already running");if(!L()){var a=w[ca];ja=Date.now()-la.secondTenths*w[r]*da,ba=setInterval(H,a),na=!0,oa=!1}}function H(){var a=da>0?Date.now()-ja:ja-Date.now(),b={};b[r]=B(a),b[s]=A(a),b[t]=z(a),b[u]=g(a),b[v]=e(a),I(b),ea(ka),L()&&(X("targetAchieved",qa),R())}function I(a){a[r]&&X("secondTenthsUpdated",qa),a[s]&&X("secondsUpdated",qa),a[t]&&X("minutesUpdated",qa),a[u]&&X("hoursUpdated",qa),a[v]&&X("daysUpdated",qa)}function J(){return ka.days>ga[q]||ka.days===ga[q]&&(ka.hours>ga[p]||ka.hours===ga[p]&&(ka.minutes>ga[o]||ka.minutes===ga[o]&&(ka.seconds>=ga[n]||ka.seconds===ga[s]&&ka.secondTenths>=ga[m])))}function K(){return ka.days<ga[q]||ka.days===ga[q]&&(ka.hours<ga[p]||ka.hours===ga[p]&&(ka.minutes<ga[o]||ka.minutes===ga[o]&&(ka.seconds<ga[n]||ka.seconds===ga[n]&&ka.secondTenths<=ga[m])))}function L(){return ga instanceof Array&&(pa.countdown&&K()||!pa.countdown&&J())}function M(){for(var a in ka)ka.hasOwnProperty(a)&&"number"==typeof ka[a]&&(ka[a]=0);for(var a in la)la.hasOwnProperty(a)&&"number"==typeof la[a]&&(la[a]=0)}function N(a){ca=a&&"string"==typeof a.precision?a.precision:s,ea=a&&"function"==typeof a.callback?a.callback:function(){},da=a&&a.countdown===!0?-1:1,ia=a&&1==a.countdown,a&&"object"==typeof a.target&&P(a.target),a&&"object"==typeof a.startValues&&Q(a.startValues),ga=ga||!ia?ga:[0,0,0,0,0],pa={precision:ca,callback:ea,countdown:"object"==typeof a&&1==a.countdown,target:ga,startValues:ha},fa=a}function O(a){var b,c,d,e,f,g;if("object"==typeof a)if(a instanceof Array){if(5!=a.length)throw new Error("Array size not valid");g=a}else g=[a.secondTenths||0,a.seconds||0,a.minutes||0,a.hours||0,a.days||0];for(var h=0;h<a.length;h+=1)a[h]<0&&(a[h]=0);return b=g[m],c=g[n]+Math.floor(b/i),d=g[o]+Math.floor(c/j),e=g[p]+Math.floor(d/k),f=g[q]+Math.floor(e/l),g[m]=b%i,g[n]=c%j,g[o]=d%k,g[p]=e%l,g[q]=f,g}function P(a){ga=O(a)}function Q(a){ha=O(a),ka.secondTenths=ha[m],ka.seconds=ha[n],ka.minutes=ha[o],ka.hours=ha[p],ka.days=ha[q],la.days=ka.days,la.hours=la.days*l+ka.hours,la.minutes=la.hours*k+ka.minutes,la.seconds=la.minutes*j+ka.seconds,la.secondTenths=la.seconds*i+ka.secondTenths}function R(){D(),X("stopped",qa)}function S(){D(),F(fa),X("reset",qa)}function T(a){F(a),X("started",qa)}function U(){E(),oa=!0,X("paused",qa)}function V(a,d){b()?ma.addEventListener(a,d):c()&&ma.on(a,d)}function W(a,d){b()?ma.removeEventListener(a,d):c()&&ma.removeListener(a,d)}function X(a,d){b()?ma.dispatchEvent(new h(a,d)):c()&&ma.emit(a,d)}function Y(){return na}function Z(){return oa}function $(){return ka}function _(){return la}function aa(){return pa}var ba,ca,da,ea,fa,ga,ha,ia,ja,ka=new f,la=new f,ma=b()?document.createElement("span"):c()?new y.EventEmitter:void 0,na=!1,oa=!1,pa={},qa={detail:{timer:this}};"undefined"!=typeof this&&(this.start=T,this.pause=U,this.stop=R,this.reset=S,this.isRunning=Y,this.isPaused=Z,this.getTimeValues=$,this.getTotalTimeValues=_,this.getConfig=aa,this.addEventListener=V,this.removeEventListener=W)}var h="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof h&&(h=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},h.prototype=window.Event.prototype,window.CustomEvent=h);var i=10,j=60,k=60,l=24,m=0,n=1,o=2,p=3,q=4,r="secondTenths",s="seconds",t="minutes",u="hours",v="days",w={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},x={secondTenths:i,seconds:j,minutes:k,hours:l},y=a&&a.exports?require("events"):void 0;return a&&a.exports?a.exports=g:"function"==typeof define&&define.amd&&define([],function(){return g}),g}(module);